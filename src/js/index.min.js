const BOX=generateArray(9);let startDragId,currentDragId,currentTouchId,startTouchId,step=0;function onDragStart(t){startDragId=document.getElementById(t.target.id).getAttribute("id")}function onDragEnd(){move(startDragId,currentDragId)&&console.log("Moved",` -------- Step: ${++step}`),isWin()&&(document.getElementById("content").style.border="2px solid rgb(63, 105, 223)",setTimeout(()=>{confirm(`Congratulation! You completed Game with ${step} step.\nDo you want to play a new Game?`)&&location.reload()},100))}function onDragOver(t){currentDragId=document.getElementById(t.target.id).getAttribute("id")}function onTouchStart(t){startTouchId=t.target.id}function onTouchMove(t){let e=document.elementFromPoint(t.touches[0].clientX,t.touches[0].clientY);currentTouchId=e.id}function onTouchEnd(){if(startTouchId!==currentTouchId&&startTouchId&&currentTouchId){let t=move(startTouchId,currentTouchId);currentTouchId="",t&&console.log("Moved",` -------- Step: ${++step}`),isWin()&&(document.getElementById("content").style.border="2px solid rgb(63, 105, 223)",setTimeout(()=>{confirm(`Congratulation! You completed Game with ${step} step.\nDo you want to play a new Game?`)&&location.reload()},100))}}initValue();function generateArray(e){let t,c=[];for(let l=1;l<=e;l++){t=-1;do{t=Math.floor(Math.random()*(e+1))}while(!t||c.indexOf(t)>-1);c.push(t)}return c}function initValue(){c1=document.getElementById("cell1"),c2=document.getElementById("cell2"),c3=document.getElementById("cell3"),c4=document.getElementById("cell4"),c5=document.getElementById("cell5"),c6=document.getElementById("cell6"),c7=document.getElementById("cell7"),c8=document.getElementById("cell8"),c9=document.getElementById("cell9"),c1.setAttribute("value",BOX[0]),c2.setAttribute("value",BOX[1]),c3.setAttribute("value",BOX[2]),c4.setAttribute("value",BOX[3]),c5.setAttribute("value",BOX[4]),c6.setAttribute("value",BOX[5]),c7.setAttribute("value",BOX[6]),c8.setAttribute("value",BOX[7]),c9.setAttribute("value",BOX[8]),c1.src=`./src/img/${BOX[0]}.jpg`,c2.src=`./src/img/${BOX[1]}.jpg`,c3.src=`./src/img/${BOX[2]}.jpg`,c4.src=`./src/img/${BOX[3]}.jpg`,c5.src=`./src/img/${BOX[4]}.jpg`,c6.src=`./src/img/${BOX[5]}.jpg`,c7.src=`./src/img/${BOX[6]}.jpg`,c8.src=`./src/img/${BOX[7]}.jpg`,c9.src=`./src/img/${BOX[8]}.jpg`,document.getElementById("content").style.border="3px solid #444",document.oncontextmenu=function(e){if("IMG"===e.target.nodeName)return!1}}function switchValue(e,t){let c={value:e.getAttribute("value"),src:e.getAttribute("src")};e.setAttribute("value",t.getAttribute("value")),e.setAttribute("src",t.getAttribute("src")),t.setAttribute("value",c.value),t.setAttribute("src",c.src)}function move(e,t){let c=document.getElementById(e),l=document.getElementById(t),u=!1;return c.getAttribute("id")!==l.getAttribute("id")&&(switchValue(c,l),u=!0),u}function isWin(){if(1==document.getElementById("cell01").getAttribute("value")&&2==document.getElementById("cell02").getAttribute("value")&&3==document.getElementById("cell03").getAttribute("value")&&4==document.getElementById("cell04").getAttribute("value")&&5==document.getElementById("cell05").getAttribute("value")&&6==document.getElementById("cell06").getAttribute("value")&&7==document.getElementById("cell07").getAttribute("value")&&8==document.getElementById("cell08").getAttribute("value")&&9==document.getElementById("cell09").getAttribute("value"))return!0}